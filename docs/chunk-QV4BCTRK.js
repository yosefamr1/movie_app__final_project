import{a as W}from"./chunk-DPBSY5WR.js";import{a as L,b as Y,c as q}from"./chunk-3CCWI67H.js";import{d as H,e as U,f as $}from"./chunk-7VD4FUIF.js";import{f as B}from"./chunk-DYGBLZRB.js";import{c as A,d as V}from"./chunk-BQBXJGUX.js";import{b as S,c as D,d as R,g as T,o as j,p as F,q as N,t as z}from"./chunk-MF5GLHV4.js";import{$a as y,Ab as h,Bb as p,Da as u,Hb as E,Ja as O,Na as f,T as C,Z as b,_ as M,_a as w,ab as P,bb as l,cb as o,db as n,eb as d,ha as _,ib as I,kb as x,lb as v,wa as g,xb as k,ya as i,zb as m}from"./chunk-OSJEPRFL.js";var J=()=>({background:"transparent",border:"none"});function K(r,a){if(r&1&&(o(0,"span",21),m(1),n()),r&2){let t=a.$implicit;i(),p(" ",t.name," ")}}function Q(r,a){if(r&1&&d(0,"img",22),r&2){let t=v();l("src","https://image.tmdb.org/t/p/w200"+t.movie().production_companies[0].logo_path,g)}}function X(r,a){if(r&1&&(o(0,"div",23)(1,"a",24),d(2,"i",25),m(3," Website"),n()()),r&2){let t=v();i(),l("href",t.movie().homepage,g)}}function Z(r,a){if(r&1){let t=I();o(0,"div",26),x("click",function(){let s=b(t).$implicit,c=v();return M(c.goToDetails(s.id))}),d(1,"app-recommended-component",27),n()}if(r&2){let t=a.$implicit;i(),l("recommended",t)}}var G=class r{constructor(a,t,e){this.http=a;this.route=t;this.router=e}movie=_({});recommended=_({});ngOnInit(){this.route.params.subscribe(a=>{let t=a.id;t!==null&&(this.http.getmoviebyid(t).subscribe(e=>{this.movie.set(e),console.log(this.movie())}),this.http.getrecommended(t).subscribe(e=>{this.recommended.set(e),console.log("recommended:",this.recommended())}))})}goToDetails(a){this.router.navigate(["/details",a])}get roundedVoteAverage(){return Math.round(this.movie()?.vote_average||0)}watch=C(W);toggleWish(a){this.watch.togglemoviedetails(this.movie())}isInWish(a){return this.watch.isInwish(this.movie().id)}static \u0275fac=function(t){return new(t||r)(u(B),u(j),u(N))};static \u0275cmp=O({type:r,selectors:[["app-details-component"]],inputs:{recommended:"recommended"},decls:42,vars:16,consts:[[1,"details"],[1,"details-card"],[1,"container"],[1,"details-wrapper"],[1,"poster"],["alt","Poster",3,"src"],[1,"details-text"],[1,"rating"],["stars","10",3,"readonly","ngModel"],[1,"overview"],[1,"genres"],["class","genre",4,"ngFor","ngForOf"],[1,"extra-info"],[1,"production-logo"],["alt","Production Company",3,"src",4,"ngIf"],["class","homepage",4,"ngIf"],["pButton","","type","button",1,"wishlist-btn",3,"click"],[3,"ngClass"],[1,"recommended"],[1,"cards"],[1,"card"],[1,"genre"],["alt","Production Company",3,"src"],[1,"homepage"],["target","_blank",1,"website_btn",3,"href"],[1,"pi","pi-link"],[1,"card",3,"click"],[3,"recommended"]],template:function(t,e){if(t&1&&(o(0,"div",0)(1,"p-card",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5,"img",5),n(),o(6,"div",6)(7,"h2"),m(8),n(),o(9,"p")(10,"strong"),m(11,"Release Date:"),n(),m(12),n(),o(13,"div",7),d(14,"p-rating",8),o(15,"span"),m(16),n()(),o(17,"p",9),m(18),n(),o(19,"div",10),f(20,K,2,1,"span",11),n(),o(21,"div",12)(22,"p")(23,"strong"),m(24,"Duration:"),n(),m(25),n(),o(26,"p")(27,"strong"),m(28,"Language:"),n(),m(29),n()(),o(30,"div",13),f(31,Q,1,1,"img",14),n(),f(32,X,4,1,"div",15),o(33,"button",16),x("click",function(){return e.toggleWish(e.movie)}),d(34,"i",17),n()()()()()(),o(35,"div",18)(36,"h2"),m(37,"Recommendations"),n(),o(38,"div",19),y(39,Z,2,1,"div",20,w),n()(),d(41,"router-outlet")),t&2){let s,c;i(5),l("src","https://image.tmdb.org/t/p/w500"+e.movie().poster_path,g),i(3),h(e.movie().title),i(4),p(" ",e.movie().release_date),i(2),l("readonly",!0)("ngModel",e.roundedVoteAverage),i(2),p("",e.movie().vote_average,"/10"),i(2),h(e.movie().overview),i(2),l("ngForOf",e.movie().genres),i(5),p(" ",e.movie().runtime," min"),i(4),p(" ",((s=e.movie().spoken_languages)==null||s[0]==null?null:s[0].english_name)||"N/A"," "),i(2),l("ngIf",(c=e.movie().production_companies)==null||c[0]==null?null:c[0].logo_path),i(),l("ngIf",e.movie().homepage),i(),k(E(15,J)),i(),l("ngClass",e.isInWish(e.movie().id)?"pi pi-heart-fill":"pi pi-heart"),i(5),P(e.recommended().results)}},dependencies:[V,A,Y,L,$,H,U,T,S,D,R,z,F,q],styles:[".details[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem;background-color:#f9f9f9}.details-card[_ngcontent-%COMP%]{width:100%;max-width:1000px;padding:1.5rem;display:flex;flex-direction:row;gap:2rem;border-radius:12px;box-shadow:0 4px 12px #0000001a;background-color:#fff}@media (max-width: 768px){.details-card[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto;border-radius:8px;object-fit:cover;box-shadow:0 4px 12px #0003}.details-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1;gap:2rem}@media (max-width: 768px){.details-wrapper[_ngcontent-%COMP%]{flex-direction:column}}.details-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.genre[_ngcontent-%COMP%]{background-color:#eee;padding:.4rem .8rem;border-radius:15px;font-size:.9rem}.extra-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.2rem 0}.production-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:1rem;max-height:40px;object-fit:contain}.website_btn[_ngcontent-%COMP%]{border:2px solid #ffe353;display:inline-flex;align-items:center;gap:.4rem;margin-top:1rem;padding:.5rem 1rem;border-radius:2rem;text-decoration:none;transition:background-color .3s}.website_btn[_ngcontent-%COMP%]:hover{background-color:#f0d655}.recommended[_ngcontent-%COMP%]{margin-top:3rem}.recommended[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;text-align:center}.cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;justify-content:center}.card[_ngcontent-%COMP%]{width:200px;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px #0000001a;transition:transform .3s ease;border:none}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:block;border-bottom:none}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem;text-align:center}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.card[_ngcontent-%COMP%]   .wishlist-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;cursor:pointer}.card[_ngcontent-%COMP%]   .wishlist-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:#ffe353}"]})};export{G as DetailsComponent};
